System.register([],(function(e){"use strict";return{execute:function(){e("g",f);function t(e){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){t=function e(t){return typeof t}}else{t=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return t(e)}function n(e,t,n){if(t in e){Object.defineProperty(e,t,{value:n,enumerable:true,configurable:true,writable:true})}else{e[t]=n}return e}function r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?Object(arguments[t]):{};var i=Object.keys(r);if(typeof Object.getOwnPropertySymbols==="function"){i=i.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))}i.forEach((function(t){n(e,t,r[t])}))}return e}function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||false;r.configurable=true;if("value"in r)r.writable=true;Object.defineProperty(e,r.key,r)}}function o(e,t,n){if(t)a(e.prototype,t);if(n)a(e,n);return e}var s=e("c",typeof globalThis!=="undefined"?globalThis:typeof window!=="undefined"?window:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{});function u(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e["default"]:e}function l(e,t,n){return n={path:t,exports:{},require:function(e,t){return c()}},e(n,n.exports),n.exports}function f(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:true});Object.keys(e).forEach((function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:true,get:function(){return e[n]}})}));return t}function c(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var p=l((function(e){function t(n){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){e.exports=t=function e(t){return typeof t};e.exports["default"]=e.exports,e.exports.__esModule=true}else{e.exports=t=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.exports["default"]=e.exports,e.exports.__esModule=true}return t(n)}e.exports=t;e.exports["default"]=e.exports,e.exports.__esModule=true}));var g=u(p);function d(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function h(e,t){if(t&&(g(t)==="object"||typeof t==="function")){return t}return d(e)}function v(e){v=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return v(e)}function y(e,t){y=Object.setPrototypeOf||function e(t,n){t.__proto__=n;return t};return y(e,t)}function m(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)y(e,t)}var b={type:"logger",log:function e(t){this.output("log",t)},warn:function e(t){this.output("warn",t)},error:function e(t){this.output("error",t)},output:function e(t,n){if(console&&console[t])console[t].apply(console,n)}};var k=function(){function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};i(this,e);this.init(t,n)}o(e,[{key:"init",value:function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};this.prefix=n.prefix||"i18next:";this.logger=t||b;this.options=n;this.debug=n.debug}},{key:"setDebug",value:function e(t){this.debug=t}},{key:"log",value:function e(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++){n[r]=arguments[r]}return this.forward(n,"log","",true)}},{key:"warn",value:function e(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++){n[r]=arguments[r]}return this.forward(n,"warn","",true)}},{key:"error",value:function e(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++){n[r]=arguments[r]}return this.forward(n,"error","")}},{key:"deprecate",value:function e(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++){n[r]=arguments[r]}return this.forward(n,"warn","WARNING DEPRECATED: ",true)}},{key:"forward",value:function e(t,n,r,i){if(i&&!this.debug)return null;if(typeof t[0]==="string")t[0]="".concat(r).concat(this.prefix," ").concat(t[0]);return this.logger[n](t)}},{key:"create",value:function t(n){return new e(this.logger,r({},{prefix:"".concat(this.prefix,":").concat(n,":")},this.options))}}]);return e}();var x=new k;var S=function(){function e(){i(this,e);this.observers={}}o(e,[{key:"on",value:function e(t,n){var r=this;t.split(" ").forEach((function(e){r.observers[e]=r.observers[e]||[];r.observers[e].push(n)}));return this}},{key:"off",value:function e(t,n){if(!this.observers[t])return;if(!n){delete this.observers[t];return}this.observers[t]=this.observers[t].filter((function(e){return e!==n}))}},{key:"emit",value:function e(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++){r[i-1]=arguments[i]}if(this.observers[t]){var a=[].concat(this.observers[t]);a.forEach((function(e){e.apply(void 0,r)}))}if(this.observers["*"]){var o=[].concat(this.observers["*"]);o.forEach((function(e){e.apply(e,[t].concat(r))}))}}}]);return e}();function w(){var e;var t;var n=new Promise((function(n,r){e=n;t=r}));n.resolve=e;n.reject=t;return n}function O(e){if(e==null)return"";return""+e}function L(e,t,n){e.forEach((function(e){if(t[e])n[e]=t[e]}))}function N(e,t,n){function r(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function i(){return!e||typeof e==="string"}var a=typeof t!=="string"?[].concat(t):t.split(".");while(a.length>1){if(i())return{};var o=r(a.shift());if(!e[o]&&n)e[o]=new n;if(Object.prototype.hasOwnProperty.call(e,o)){e=e[o]}else{e={}}}if(i())return{};return{obj:e,k:r(a.shift())}}function R(e,t,n){var r=N(e,t,Object),i=r.obj,a=r.k;i[a]=n}function j(e,t,n,r){var i=N(e,t,Object),a=i.obj,o=i.k;a[o]=a[o]||[];if(r)a[o]=a[o].concat(n);if(!r)a[o].push(n)}function C(e,t){var n=N(e,t),r=n.obj,i=n.k;if(!r)return undefined;return r[i]}function P(e,t,n){var r=C(e,n);if(r!==undefined){return r}return C(t,n)}function E(e,t,n){for(var r in t){if(r!=="__proto__"&&r!=="constructor"){if(r in e){if(typeof e[r]==="string"||e[r]instanceof String||typeof t[r]==="string"||t[r]instanceof String){if(n)e[r]=t[r]}else{E(e[r],t[r],n)}}else{e[r]=t[r]}}}return e}function F(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var I={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function V(e){if(typeof e==="string"){return e.replace(/[&<>"'\/]/g,(function(e){return I[e]}))}return e}var T=typeof window!=="undefined"&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1;var A=[" ",",","?","!",";"];function D(e,t,n){t=t||"";n=n||"";var r=A.filter((function(e){return t.indexOf(e)<0&&n.indexOf(e)<0}));if(r.length===0)return true;var i=new RegExp("(".concat(r.map((function(e){return e==="?"?"\\?":e})).join("|"),")"));var a=!i.test(e);if(!a){var o=e.indexOf(n);if(o>0&&!i.test(e.substring(0,o))){a=true}}return a}function U(e,t){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:".";if(!e)return undefined;if(e[t])return e[t];var r=t.split(n);var i=e;for(var a=0;a<r.length;++a){if(!i)return undefined;if(typeof i[r[a]]==="string"&&a+1<r.length){return undefined}if(i[r[a]]===undefined){var o=2;var s=r.slice(a,a+o).join(n);var u=i[s];while(u===undefined&&r.length>a+o){o++;s=r.slice(a,a+o).join(n);u=i[s]}if(u===undefined)return undefined;if(typeof u==="string")return u;if(s&&typeof u[s]==="string")return u[s];var l=r.slice(a+o).join(n);if(l)return U(u,l,n);return undefined}i=i[r[a]]}return i}var M=function(e){m(t,e);function t(e){var n;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{ns:["translation"],defaultNS:"translation"};i(this,t);n=h(this,v(t).call(this));if(T){S.call(d(n))}n.data=e||{};n.options=r;if(n.options.keySeparator===undefined){n.options.keySeparator="."}if(n.options.ignoreJSONStructure===undefined){n.options.ignoreJSONStructure=true}return n}o(t,[{key:"addNamespaces",value:function e(t){if(this.options.ns.indexOf(t)<0){this.options.ns.push(t)}}},{key:"removeNamespaces",value:function e(t){var n=this.options.ns.indexOf(t);if(n>-1){this.options.ns.splice(n,1)}}},{key:"getResource",value:function e(t,n,r){var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};var a=i.keySeparator!==undefined?i.keySeparator:this.options.keySeparator;var o=i.ignoreJSONStructure!==undefined?i.ignoreJSONStructure:this.options.ignoreJSONStructure;var s=[t,n];if(r&&typeof r!=="string")s=s.concat(r);if(r&&typeof r==="string")s=s.concat(a?r.split(a):r);if(t.indexOf(".")>-1){s=t.split(".")}var u=C(this.data,s);if(u||!o||typeof r!=="string")return u;return U(this.data&&this.data[t]&&this.data[t][n],r,a)}},{key:"addResource",value:function e(t,n,r,i){var a=arguments.length>4&&arguments[4]!==undefined?arguments[4]:{silent:false};var o=this.options.keySeparator;if(o===undefined)o=".";var s=[t,n];if(r)s=s.concat(o?r.split(o):r);if(t.indexOf(".")>-1){s=t.split(".");i=n;n=s[1]}this.addNamespaces(n);R(this.data,s,i);if(!a.silent)this.emit("added",t,n,r,i)}},{key:"addResources",value:function e(t,n,r){var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{silent:false};for(var a in r){if(typeof r[a]==="string"||Object.prototype.toString.apply(r[a])==="[object Array]")this.addResource(t,n,a,r[a],{silent:true})}if(!i.silent)this.emit("added",t,n,r)}},{key:"addResourceBundle",value:function e(t,n,i,a,o){var s=arguments.length>5&&arguments[5]!==undefined?arguments[5]:{silent:false};var u=[t,n];if(t.indexOf(".")>-1){u=t.split(".");a=i;i=n;n=u[1]}this.addNamespaces(n);var l=C(this.data,u)||{};if(a){E(l,i,o)}else{l=r({},l,i)}R(this.data,u,l);if(!s.silent)this.emit("added",t,n,i)}},{key:"removeResourceBundle",value:function e(t,n){if(this.hasResourceBundle(t,n)){delete this.data[t][n]}this.removeNamespaces(n);this.emit("removed",t,n)}},{key:"hasResourceBundle",value:function e(t,n){return this.getResource(t,n)!==undefined}},{key:"getResourceBundle",value:function e(t,n){if(!n)n=this.options.defaultNS;if(this.options.compatibilityAPI==="v1")return r({},{},this.getResource(t,n));return this.getResource(t,n)}},{key:"getDataByLanguage",value:function e(t){return this.data[t]}},{key:"hasLanguageSomeTranslations",value:function e(t){var n=this.getDataByLanguage(t);var r=n&&Object.keys(n)||[];return!!r.find((function(e){return n[e]&&Object.keys(n[e]).length>0}))}},{key:"toJSON",value:function e(){return this.data}}]);return t}(S);var K={processors:{},addPostProcessor:function e(t){this.processors[t.name]=t},handle:function e(t,n,r,i,a){var o=this;t.forEach((function(e){if(o.processors[e])n=o.processors[e].process(n,r,i,a)}));return n}};var _={};var H=function(e){m(n,e);function n(e){var t;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};i(this,n);t=h(this,v(n).call(this));if(T){S.call(d(t))}L(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,d(t));t.options=r;if(t.options.keySeparator===undefined){t.options.keySeparator="."}t.logger=x.create("translator");return t}o(n,[{key:"changeLanguage",value:function e(t){if(t)this.language=t}},{key:"exists",value:function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{interpolation:{}};if(t===undefined||t===null){return false}var r=this.resolve(t,n);return r&&r.res!==undefined}},{key:"extractFromKey",value:function e(t,n){var r=n.nsSeparator!==undefined?n.nsSeparator:this.options.nsSeparator;if(r===undefined)r=":";var i=n.keySeparator!==undefined?n.keySeparator:this.options.keySeparator;var a=n.ns||this.options.defaultNS;var o=r&&t.indexOf(r)>-1;var s=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!D(t,r,i);if(o&&!s){var u=t.match(this.interpolator.nestingRegexp);if(u&&u.length>0){return{key:t,namespaces:a}}var l=t.split(r);if(r!==i||r===i&&this.options.ns.indexOf(l[0])>-1)a=l.shift();t=l.join(i)}if(typeof a==="string")a=[a];return{key:t,namespaces:a}}},{key:"translate",value:function e(i,a,o){var s=this;if(t(a)!=="object"&&this.options.overloadTranslationOptionHandler){a=this.options.overloadTranslationOptionHandler(arguments)}if(!a)a={};if(i===undefined||i===null)return"";if(!Array.isArray(i))i=[String(i)];var u=a.keySeparator!==undefined?a.keySeparator:this.options.keySeparator;var l=this.extractFromKey(i[i.length-1],a),f=l.key,c=l.namespaces;var p=c[c.length-1];var g=a.lng||this.language;var d=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(g&&g.toLowerCase()==="cimode"){if(d){var h=a.nsSeparator||this.options.nsSeparator;return p+h+f}return f}var v=this.resolve(i,a);var y=v&&v.res;var m=v&&v.usedKey||f;var b=v&&v.exactUsedKey||f;var k=Object.prototype.toString.apply(y);var x=["[object Number]","[object Function]","[object RegExp]"];var S=a.joinArrays!==undefined?a.joinArrays:this.options.joinArrays;var w=!this.i18nFormat||this.i18nFormat.handleAsObject;var O=typeof y!=="string"&&typeof y!=="boolean"&&typeof y!=="number";if(w&&y&&O&&x.indexOf(k)<0&&!(typeof S==="string"&&k==="[object Array]")){if(!a.returnObjects&&!this.options.returnObjects){if(!this.options.returnedObjectHandler){this.logger.warn("accessing an object - but returnObjects options is not enabled!")}return this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,y,r({},a,{ns:c})):"key '".concat(f," (").concat(this.language,")' returned an object instead of string.")}if(u){var L=k==="[object Array]";var N=L?[]:{};var R=L?b:m;for(var j in y){if(Object.prototype.hasOwnProperty.call(y,j)){var C="".concat(R).concat(u).concat(j);N[j]=this.translate(C,r({},a,{joinArrays:false,ns:c}));if(N[j]===C)N[j]=y[j]}}y=N}}else if(w&&typeof S==="string"&&k==="[object Array]"){y=y.join(S);if(y)y=this.extendTranslation(y,i,a,o)}else{var P=false;var E=false;var F=a.count!==undefined&&typeof a.count!=="string";var I=n.hasDefaultValue(a);var V=F?this.pluralResolver.getSuffix(g,a.count,a):"";var T=a["defaultValue".concat(V)]||a.defaultValue;if(!this.isValidLookup(y)&&I){P=true;y=T}if(!this.isValidLookup(y)){E=true;y=f}var A=a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey;var D=A&&E?undefined:y;var U=I&&T!==y&&this.options.updateMissing;if(E||P||U){this.logger.log(U?"updateKey":"missingKey",g,p,f,U?T:y);if(u){var M=this.resolve(f,r({},a,{keySeparator:false}));if(M&&M.res)this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var K=[];var _=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&_&&_[0]){for(var H=0;H<_.length;H++){K.push(_[H])}}else if(this.options.saveMissingTo==="all"){K=this.languageUtils.toResolveHierarchy(a.lng||this.language)}else{K.push(a.lng||this.language)}var B=function e(t,n,r){if(s.options.missingKeyHandler){s.options.missingKeyHandler(t,p,n,U?r:D,U,a)}else if(s.backendConnector&&s.backendConnector.saveMissing){s.backendConnector.saveMissing(t,p,n,U?r:D,U,a)}s.emit("missingKey",t,p,n,y)};if(this.options.saveMissing){if(this.options.saveMissingPlurals&&F){K.forEach((function(e){s.pluralResolver.getSuffixes(e).forEach((function(t){B([e],f+t,a["defaultValue".concat(t)]||T)}))}))}else{B(K,f,T)}}}y=this.extendTranslation(y,i,a,v,o);if(E&&y===f&&this.options.appendNamespaceToMissingKey)y="".concat(p,":").concat(f);if((E||P)&&this.options.parseMissingKeyHandler)y=this.options.parseMissingKeyHandler(y)}return y}},{key:"extendTranslation",value:function e(t,n,i,a,o){var s=this;if(this.i18nFormat&&this.i18nFormat.parse){t=this.i18nFormat.parse(t,i,a.usedLng,a.usedNS,a.usedKey,{resolved:a})}else if(!i.skipInterpolation){if(i.interpolation)this.interpolator.init(r({},i,{interpolation:r({},this.options.interpolation,i.interpolation)}));var u=i.interpolation&&i.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;var l;if(u){var f=t.match(this.interpolator.nestingRegexp);l=f&&f.length}var c=i.replace&&typeof i.replace!=="string"?i.replace:i;if(this.options.interpolation.defaultVariables)c=r({},this.options.interpolation.defaultVariables,c);t=this.interpolator.interpolate(t,c,i.lng||this.language,i);if(u){var p=t.match(this.interpolator.nestingRegexp);var g=p&&p.length;if(l<g)i.nest=false}if(i.nest!==false)t=this.interpolator.nest(t,(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++){t[r]=arguments[r]}if(o&&o[0]===t[0]&&!i.context){s.logger.warn("It seems you are nesting recursively key: ".concat(t[0]," in key: ").concat(n[0]));return null}return s.translate.apply(s,t.concat([n]))}),i);if(i.interpolation)this.interpolator.reset()}var d=i.postProcess||this.options.postProcess;var h=typeof d==="string"?[d]:d;if(t!==undefined&&t!==null&&h&&h.length&&i.applyPostProcessor!==false){t=K.handle(h,t,n,this.options&&this.options.postProcessPassResolved?r({i18nResolved:a},i):i,this)}return t}},{key:"resolve",value:function e(t){var n=this;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var i;var a;var o;var s;var u;if(typeof t==="string")t=[t];t.forEach((function(e){if(n.isValidLookup(i))return;var t=n.extractFromKey(e,r);var l=t.key;a=l;var f=t.namespaces;if(n.options.fallbackNS)f=f.concat(n.options.fallbackNS);var c=r.count!==undefined&&typeof r.count!=="string";var p=r.context!==undefined&&(typeof r.context==="string"||typeof r.context==="number")&&r.context!=="";var g=r.lngs?r.lngs:n.languageUtils.toResolveHierarchy(r.lng||n.language,r.fallbackLng);f.forEach((function(e){if(n.isValidLookup(i))return;u=e;if(!_["".concat(g[0],"-").concat(e)]&&n.utils&&n.utils.hasLoadedNamespace&&!n.utils.hasLoadedNamespace(u)){_["".concat(g[0],"-").concat(e)]=true;n.logger.warn('key "'.concat(a,'" for languages "').concat(g.join(", "),'" won\'t get resolved as namespace "').concat(u,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")}g.forEach((function(t){if(n.isValidLookup(i))return;s=t;var a=l;var u=[a];if(n.i18nFormat&&n.i18nFormat.addLookupKeys){n.i18nFormat.addLookupKeys(u,l,t,e,r)}else{var f;if(c)f=n.pluralResolver.getSuffix(t,r.count,r);if(c&&p)u.push(a+f);if(p)u.push(a+="".concat(n.options.contextSeparator).concat(r.context));if(c)u.push(a+=f)}var g;while(g=u.pop()){if(!n.isValidLookup(i)){o=g;i=n.getResource(t,e,g,r)}}}))}))}));return{res:i,usedKey:a,exactUsedKey:o,usedLng:s,usedNS:u}}},{key:"isValidLookup",value:function e(t){return t!==undefined&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}},{key:"getResource",value:function e(t,n,r){var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};if(this.i18nFormat&&this.i18nFormat.getResource)return this.i18nFormat.getResource(t,n,r,i);return this.resourceStore.getResource(t,n,r,i)}}],[{key:"hasDefaultValue",value:function e(t){var n="defaultValue";for(var r in t){if(Object.prototype.hasOwnProperty.call(t,r)&&n===r.substring(0,n.length)&&undefined!==t[r]){return true}}return false}}]);return n}(S);function B(e){return e.charAt(0).toUpperCase()+e.slice(1)}var z=function(){function e(t){i(this,e);this.options=t;this.supportedLngs=this.options.supportedLngs||false;this.logger=x.create("languageUtils")}o(e,[{key:"getScriptPartFromCode",value:function e(t){if(!t||t.indexOf("-")<0)return null;var n=t.split("-");if(n.length===2)return null;n.pop();if(n[n.length-1].toLowerCase()==="x")return null;return this.formatLanguageCode(n.join("-"))}},{key:"getLanguagePartFromCode",value:function e(t){if(!t||t.indexOf("-")<0)return t;var n=t.split("-");return this.formatLanguageCode(n[0])}},{key:"formatLanguageCode",value:function e(t){if(typeof t==="string"&&t.indexOf("-")>-1){var n=["hans","hant","latn","cyrl","cans","mong","arab"];var r=t.split("-");if(this.options.lowerCaseLng){r=r.map((function(e){return e.toLowerCase()}))}else if(r.length===2){r[0]=r[0].toLowerCase();r[1]=r[1].toUpperCase();if(n.indexOf(r[1].toLowerCase())>-1)r[1]=B(r[1].toLowerCase())}else if(r.length===3){r[0]=r[0].toLowerCase();if(r[1].length===2)r[1]=r[1].toUpperCase();if(r[0]!=="sgn"&&r[2].length===2)r[2]=r[2].toUpperCase();if(n.indexOf(r[1].toLowerCase())>-1)r[1]=B(r[1].toLowerCase());if(n.indexOf(r[2].toLowerCase())>-1)r[2]=B(r[2].toLowerCase())}return r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}},{key:"isSupportedCode",value:function e(t){if(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs){t=this.getLanguagePartFromCode(t)}return!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}},{key:"getBestMatchFromCodes",value:function e(t){var n=this;if(!t)return null;var r;t.forEach((function(e){if(r)return;var t=n.formatLanguageCode(e);if(!n.options.supportedLngs||n.isSupportedCode(t))r=t}));if(!r&&this.options.supportedLngs){t.forEach((function(e){if(r)return;var t=n.getLanguagePartFromCode(e);if(n.isSupportedCode(t))return r=t;r=n.options.supportedLngs.find((function(e){if(e.indexOf(t)===0)return e}))}))}if(!r)r=this.getFallbackCodes(this.options.fallbackLng)[0];return r}},{key:"getFallbackCodes",value:function e(t,n){if(!t)return[];if(typeof t==="function")t=t(n);if(typeof t==="string")t=[t];if(Object.prototype.toString.apply(t)==="[object Array]")return t;if(!n)return t["default"]||[];var r=t[n];if(!r)r=t[this.getScriptPartFromCode(n)];if(!r)r=t[this.formatLanguageCode(n)];if(!r)r=t[this.getLanguagePartFromCode(n)];if(!r)r=t["default"];return r||[]}},{key:"toResolveHierarchy",value:function e(t,n){var r=this;var i=this.getFallbackCodes(n||this.options.fallbackLng||[],t);var a=[];var o=function e(t){if(!t)return;if(r.isSupportedCode(t)){a.push(t)}else{r.logger.warn("rejecting language code not found in supportedLngs: ".concat(t))}};if(typeof t==="string"&&t.indexOf("-")>-1){if(this.options.load!=="languageOnly")o(this.formatLanguageCode(t));if(this.options.load!=="languageOnly"&&this.options.load!=="currentOnly")o(this.getScriptPartFromCode(t));if(this.options.load!=="currentOnly")o(this.getLanguagePartFromCode(t))}else if(typeof t==="string"){o(this.formatLanguageCode(t))}i.forEach((function(e){if(a.indexOf(e)<0)o(r.formatLanguageCode(e))}));return a}}]);return e}();var J=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}];var q={1:function e(t){return Number(t>1)},2:function e(t){return Number(t!=1)},3:function e(t){return 0},4:function e(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},5:function e(t){return Number(t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5)},6:function e(t){return Number(t==1?0:t>=2&&t<=4?1:2)},7:function e(t){return Number(t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2)},8:function e(t){return Number(t==1?0:t==2?1:t!=8&&t!=11?2:3)},9:function e(t){return Number(t>=2)},10:function e(t){return Number(t==1?0:t==2?1:t<7?2:t<11?3:4)},11:function e(t){return Number(t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3)},12:function e(t){return Number(t%10!=1||t%100==11)},13:function e(t){return Number(t!==0)},14:function e(t){return Number(t==1?0:t==2?1:t==3?2:3)},15:function e(t){return Number(t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2)},16:function e(t){return Number(t%10==1&&t%100!=11?0:t!==0?1:2)},17:function e(t){return Number(t==1||t%10==1&&t%100!=11?0:1)},18:function e(t){return Number(t==0?0:t==1?1:2)},19:function e(t){return Number(t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3)},20:function e(t){return Number(t==1?0:t==0||t%100>0&&t%100<20?1:2)},21:function e(t){return Number(t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0)},22:function e(t){return Number(t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3)}};var $=["v1","v2","v3"];var W={zero:0,one:1,two:2,few:3,many:4,other:5};function Y(){var e={};J.forEach((function(t){t.lngs.forEach((function(n){e[n]={numbers:t.nr,plurals:q[t.fc]}}))}));return e}var G=function(){function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};i(this,e);this.languageUtils=t;this.options=n;this.logger=x.create("pluralResolver");if((!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl==="undefined"||!Intl.PluralRules)){this.options.compatibilityJSON="v3";this.logger.error("Your environment seems not to be Inlt API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")}this.rules=Y()}o(e,[{key:"addRule",value:function e(t,n){this.rules[t]=n}},{key:"getRule",value:function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(this.shouldUseIntlApi()){try{return new Intl.PluralRules(t,{type:n.ordinal?"ordinal":"cardinal"})}catch(e){return}}return this.rules[t]||this.rules[this.languageUtils.getLanguagePartFromCode(t)]}},{key:"needsPlural",value:function e(t){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var r=this.getRule(t,n);if(this.shouldUseIntlApi()){return r&&r.resolvedOptions().pluralCategories.length>1}return r&&r.numbers.length>1}},{key:"getPluralFormsOfKey",value:function e(t,n){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return this.getSuffixes(t,r).map((function(e){return"".concat(n).concat(e)}))}},{key:"getSuffixes",value:function e(t){var n=this;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var i=this.getRule(t,r);if(!i){return[]}if(this.shouldUseIntlApi()){return i.resolvedOptions().pluralCategories.sort((function(e,t){return W[e]-W[t]})).map((function(e){return"".concat(n.options.prepend).concat(e)}))}return i.numbers.map((function(e){return n.getSuffix(t,e,r)}))}},{key:"getSuffix",value:function e(t,n){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var i=this.getRule(t,r);if(i){if(this.shouldUseIntlApi()){return"".concat(this.options.prepend).concat(i.select(n))}return this.getSuffixRetroCompatible(i,n)}this.logger.warn("no plural rule found for: ".concat(t));return""}},{key:"getSuffixRetroCompatible",value:function e(t,n){var r=this;var i=t.noAbs?t.plurals(n):t.plurals(Math.abs(n));var a=t.numbers[i];if(this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1){if(a===2){a="plural"}else if(a===1){a=""}}var o=function e(){return r.options.prepend&&a.toString()?r.options.prepend+a.toString():a.toString()};if(this.options.compatibilityJSON==="v1"){if(a===1)return"";if(typeof a==="number")return"_plural_".concat(a.toString());return o()}else if(this.options.compatibilityJSON==="v2"){return o()}else if(this.options.simplifyPluralSuffix&&t.numbers.length===2&&t.numbers[0]===1){return o()}return this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString()}},{key:"shouldUseIntlApi",value:function e(){return!$.includes(this.options.compatibilityJSON)}}]);return e}();var Q=function(){function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};i(this,e);this.logger=x.create("interpolator");this.options=t;this.format=t.interpolation&&t.interpolation.format||function(e){return e};this.init(t)}o(e,[{key:"init",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(!t.interpolation)t.interpolation={escapeValue:true};var n=t.interpolation;this.escape=n.escape!==undefined?n.escape:V;this.escapeValue=n.escapeValue!==undefined?n.escapeValue:true;this.useRawValueToEscape=n.useRawValueToEscape!==undefined?n.useRawValueToEscape:false;this.prefix=n.prefix?F(n.prefix):n.prefixEscaped||"{{";this.suffix=n.suffix?F(n.suffix):n.suffixEscaped||"}}";this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||",";this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-";this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"";this.nestingPrefix=n.nestingPrefix?F(n.nestingPrefix):n.nestingPrefixEscaped||F("$t(");this.nestingSuffix=n.nestingSuffix?F(n.nestingSuffix):n.nestingSuffixEscaped||F(")");this.nestingOptionsSeparator=n.nestingOptionsSeparator?n.nestingOptionsSeparator:n.nestingOptionsSeparator||",";this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3;this.alwaysFormat=n.alwaysFormat!==undefined?n.alwaysFormat:false;this.resetRegExp()}},{key:"reset",value:function e(){if(this.options)this.init(this.options)}},{key:"resetRegExp",value:function e(){var t="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(t,"g");var n="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(n,"g");var r="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(r,"g")}},{key:"interpolate",value:function e(t,n,i,a){var o=this;var s;var u;var l;var f=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function c(e){return e.replace(/\$/g,"$$$$")}var p=function e(t){if(t.indexOf(o.formatSeparator)<0){var s=P(n,f,t);return o.alwaysFormat?o.format(s,undefined,i,r({},a,n,{interpolationkey:t})):s}var u=t.split(o.formatSeparator);var l=u.shift().trim();var c=u.join(o.formatSeparator).trim();return o.format(P(n,f,l),c,i,r({},a,n,{interpolationkey:l}))};this.resetRegExp();var g=a&&a.missingInterpolationHandler||this.options.missingInterpolationHandler;var d=a&&a.interpolation&&a.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;var h=[{regex:this.regexpUnescape,safeValue:function e(t){return c(t)}},{regex:this.regexp,safeValue:function e(t){return o.escapeValue?c(o.escape(t)):c(t)}}];h.forEach((function(e){l=0;while(s=e.regex.exec(t)){u=p(s[1].trim());if(u===undefined){if(typeof g==="function"){var n=g(t,s,a);u=typeof n==="string"?n:""}else if(d){u=s[0];continue}else{o.logger.warn("missed to pass in variable ".concat(s[1]," for interpolating ").concat(t));u=""}}else if(typeof u!=="string"&&!o.useRawValueToEscape){u=O(u)}var r=e.safeValue(u);t=t.replace(s[0],r);if(d){e.regex.lastIndex+=r.length;e.regex.lastIndex-=s[0].length}else{e.regex.lastIndex=0}l++;if(l>=o.maxReplaces){break}}}));return t}},{key:"nest",value:function e(t,n){var i=this;var a=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var o;var s;var u=r({},a);u.applyPostProcessor=false;delete u.defaultValue;function l(e,t){var n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;var i=e.split(new RegExp("".concat(n,"[ ]*{")));var a="{".concat(i[1]);e=i[0];a=this.interpolate(a,u);a=a.replace(/'/g,'"');try{u=JSON.parse(a);if(t)u=r({},t,u)}catch(t){this.logger.warn("failed parsing options string in nesting for key ".concat(e),t);return"".concat(e).concat(n).concat(a)}delete u.defaultValue;return e}while(o=this.nestingRegexp.exec(t)){var f=[];var c=false;if(o[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(o[1])){var p=o[1].split(this.formatSeparator).map((function(e){return e.trim()}));o[1]=p.shift();f=p;c=true}s=n(l.call(this,o[1].trim(),u),u);if(s&&o[0]===t&&typeof s!=="string")return s;if(typeof s!=="string")s=O(s);if(!s){this.logger.warn("missed to resolve ".concat(o[1]," for nesting ").concat(t));s=""}if(c){s=f.reduce((function(e,t){return i.format(e,t,a.lng,r({},a,{interpolationkey:o[1].trim()}))}),s.trim())}t=t.replace(o[0],s);this.regexp.lastIndex=0}return t}}]);return e}();function X(e,t){var n=e.indexOf(t);while(n!==-1){e.splice(n,1);n=e.indexOf(t)}}var Z=function(e){m(t,e);function t(e,n,r){var a;var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:{};i(this,t);a=h(this,v(t).call(this));if(T){S.call(d(a))}a.backend=e;a.store=n;a.services=r;a.languageUtils=r.languageUtils;a.options=o;a.logger=x.create("backendConnector");a.state={};a.queue=[];if(a.backend&&a.backend.init){a.backend.init(r,o.backend,o)}return a}o(t,[{key:"queueLoad",value:function e(t,n,r,i){var a=this;var o=[];var s=[];var u=[];var l=[];t.forEach((function(e){var t=true;n.forEach((function(n){var i="".concat(e,"|").concat(n);if(!r.reload&&a.store.hasResourceBundle(e,n)){a.state[i]=2}else if(a.state[i]<0);else if(a.state[i]===1){if(s.indexOf(i)<0)s.push(i)}else{a.state[i]=1;t=false;if(s.indexOf(i)<0)s.push(i);if(o.indexOf(i)<0)o.push(i);if(l.indexOf(n)<0)l.push(n)}}));if(!t)u.push(e)}));if(o.length||s.length){this.queue.push({pending:s,loaded:{},errors:[],callback:i})}return{toLoad:o,pending:s,toLoadLanguages:u,toLoadNamespaces:l}}},{key:"loaded",value:function e(t,n,r){var i=t.split("|");var a=i[0];var o=i[1];if(n)this.emit("failedLoading",a,o,n);if(r){this.store.addResourceBundle(a,o,r)}this.state[t]=n?-1:2;var e={};this.queue.forEach((function(r){j(r.loaded,[a],o);X(r.pending,t);if(n)r.errors.push(n);if(r.pending.length===0&&!r.done){Object.keys(r.loaded).forEach((function(t){if(!e[t])e[t]=[];if(r.loaded[t].length){r.loaded[t].forEach((function(n){if(e[t].indexOf(n)<0)e[t].push(n)}))}}));r.done=true;if(r.errors.length){r.callback(r.errors)}else{r.callback()}}}));this.emit("loaded",e);this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function e(t,n,r){var i=this;var a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;var o=arguments.length>4&&arguments[4]!==undefined?arguments[4]:350;var s=arguments.length>5?arguments[5]:undefined;if(!t.length)return s(null,{});return this.backend[r](t,n,(function(e,u){if(e&&u&&a<5){setTimeout((function(){i.read.call(i,t,n,r,a+1,o*2,s)}),o);return}s(e,u)}))}},{key:"prepareLoading",value:function e(t,n){var r=this;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var a=arguments.length>3?arguments[3]:undefined;if(!this.backend){this.logger.warn("No backend was added via i18next.use. Will not load resources.");return a&&a()}if(typeof t==="string")t=this.languageUtils.toResolveHierarchy(t);if(typeof n==="string")n=[n];var o=this.queueLoad(t,n,i,a);if(!o.toLoad.length){if(!o.pending.length)a();return null}o.toLoad.forEach((function(e){r.loadOne(e)}))}},{key:"load",value:function e(t,n,r){this.prepareLoading(t,n,{},r)}},{key:"reload",value:function e(t,n,r){this.prepareLoading(t,n,{reload:true},r)}},{key:"loadOne",value:function e(t){var n=this;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var i=t.split("|");var a=i[0];var o=i[1];this.read(a,o,"read",undefined,undefined,(function(e,i){if(e)n.logger.warn("".concat(r,"loading namespace ").concat(o," for language ").concat(a," failed"),e);if(!e&&i)n.logger.log("".concat(r,"loaded namespace ").concat(o," for language ").concat(a),i);n.loaded(t,e,i)}))}},{key:"saveMissing",value:function e(t,n,i,a,o){var s=arguments.length>5&&arguments[5]!==undefined?arguments[5]:{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn('did not save key "'.concat(i,'" as the namespace "').concat(n,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(i===undefined||i===null||i==="")return;if(this.backend&&this.backend.create){this.backend.create(t,n,i,a,null,r({},s,{isUpdate:o}))}if(!t||!t[0])return;this.store.addResource(t[0],n,i,a)}}]);return t}(S);function ee(){return{debug:false,initImmediate:true,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:false,supportedLngs:false,nonExplicitSupportedLngs:false,load:"all",preload:false,simplifyPluralSuffix:true,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:false,saveMissing:false,updateMissing:false,saveMissingTo:"fallback",saveMissingPlurals:true,missingKeyHandler:false,missingInterpolationHandler:false,postProcess:false,postProcessPassResolved:false,returnNull:true,returnEmptyString:true,returnObjects:false,joinArrays:false,returnedObjectHandler:false,parseMissingKeyHandler:false,appendNamespaceToMissingKey:false,appendNamespaceToCIMode:false,overloadTranslationOptionHandler:function e(n){var r={};if(t(n[1])==="object")r=n[1];if(typeof n[1]==="string")r.defaultValue=n[1];if(typeof n[2]==="string")r.tDescription=n[2];if(t(n[2])==="object"||t(n[3])==="object"){var i=n[3]||n[2];Object.keys(i).forEach((function(e){r[e]=i[e]}))}return r},interpolation:{escapeValue:true,format:function e(t,n,r,i){return t},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:true}}}function te(e){if(typeof e.ns==="string")e.ns=[e.ns];if(typeof e.fallbackLng==="string")e.fallbackLng=[e.fallbackLng];if(typeof e.fallbackNS==="string")e.fallbackNS=[e.fallbackNS];if(e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0){e.supportedLngs=e.supportedLngs.concat(["cimode"])}return e}function ne(){}var re=function(e){m(n,e);function n(){var e;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var r=arguments.length>1?arguments[1]:undefined;i(this,n);e=h(this,v(n).call(this));if(T){S.call(d(e))}e.options=te(t);e.services={};e.logger=x;e.modules={external:[]};if(r&&!e.isInitialized&&!t.isClone){if(!e.options.initImmediate){e.init(t,r);return h(e,d(e))}setTimeout((function(){e.init(t,r)}),0)}return e}o(n,[{key:"init",value:function e(){var t=this;var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var i=arguments.length>1?arguments[1]:undefined;if(typeof n==="function"){i=n;n={}}if(!n.defaultNS&&n.ns){if(typeof n.ns==="string"){n.defaultNS=n.ns}else if(n.ns.indexOf("translation")<0){n.defaultNS=n.ns[0]}}this.options=r({},ee(),this.options,te(n));if(n.keySeparator!==undefined){this.options.userDefinedKeySeparator=n.keySeparator}this.format=this.options.interpolation.format;if(!i)i=ne;function a(e){if(!e)return null;if(typeof e==="function")return new e;return e}if(!this.options.isClone){if(this.modules.logger){x.init(a(this.modules.logger),this.options)}else{x.init(null,this.options)}var o=new z(this.options);this.store=new M(this.options.resources,this.options);var s=this.services;s.logger=x;s.resourceStore=this.store;s.languageUtils=o;s.pluralResolver=new G(o,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix});s.interpolator=new Q(this.options);s.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)};s.backendConnector=new Z(a(this.modules.backend),s.resourceStore,s,this.options);s.backendConnector.on("*",(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++){r[i-1]=arguments[i]}t.emit.apply(t,[e].concat(r))}));if(this.modules.languageDetector){s.languageDetector=a(this.modules.languageDetector);s.languageDetector.init(s,this.options.detection,this.options)}if(this.modules.i18nFormat){s.i18nFormat=a(this.modules.i18nFormat);if(s.i18nFormat.init)s.i18nFormat.init(this)}this.translator=new H(this.services,this.options);this.translator.on("*",(function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++){r[i-1]=arguments[i]}t.emit.apply(t,[e].concat(r))}));this.modules.external.forEach((function(e){if(e.init)e.init(t)}))}if(this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);if(u.length>0&&u[0]!=="dev")this.options.lng=u[0]}if(!this.services.languageDetector&&!this.options.lng){this.logger.warn("init: no languageDetector is used and no lng is defined")}var l=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];l.forEach((function(e){t[e]=function(){var n;return(n=t.store)[e].apply(n,arguments)}}));var f=["addResource","addResources","addResourceBundle","removeResourceBundle"];f.forEach((function(e){t[e]=function(){var n;(n=t.store)[e].apply(n,arguments);return t}}));var c=w();var p=function e(){var n=function e(n,r){if(t.isInitialized&&!t.initializedStoreOnce)t.logger.warn("init: i18next is already initialized. You should call init just once!");t.isInitialized=true;if(!t.options.isClone)t.logger.log("initialized",t.options);t.emit("initialized",t.options);c.resolve(r);i(n,r)};if(t.languages&&t.options.compatibilityAPI!=="v1"&&!t.isInitialized)return n(null,t.t.bind(t));t.changeLanguage(t.options.lng,n)};if(this.options.resources||!this.options.initImmediate){p()}else{setTimeout(p,0)}return c}},{key:"loadResources",value:function e(t){var n=this;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:ne;var i=r;var a=typeof t==="string"?t:this.language;if(typeof t==="function")i=t;if(!this.options.resources||this.options.partialBundledLanguages){if(a&&a.toLowerCase()==="cimode")return i();var o=[];var s=function e(t){if(!t)return;var r=n.services.languageUtils.toResolveHierarchy(t);r.forEach((function(e){if(o.indexOf(e)<0)o.push(e)}))};if(!a){var u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.forEach((function(e){return s(e)}))}else{s(a)}if(this.options.preload){this.options.preload.forEach((function(e){return s(e)}))}this.services.backendConnector.load(o,this.options.ns,i)}else{i(null)}}},{key:"reloadResources",value:function e(t,n,r){var i=w();if(!t)t=this.languages;if(!n)n=this.options.ns;if(!r)r=ne;this.services.backendConnector.reload(t,n,(function(e){i.resolve();r(e)}));return i}},{key:"use",value:function e(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");if(t.type==="backend"){this.modules.backend=t}if(t.type==="logger"||t.log&&t.warn&&t.error){this.modules.logger=t}if(t.type==="languageDetector"){this.modules.languageDetector=t}if(t.type==="i18nFormat"){this.modules.i18nFormat=t}if(t.type==="postProcessor"){K.addPostProcessor(t)}if(t.type==="3rdParty"){this.modules.external.push(t)}return this}},{key:"changeLanguage",value:function e(t,n){var r=this;this.isLanguageChangingTo=t;var i=w();this.emit("languageChanging",t);var a=function e(t){r.language=t;r.languages=r.services.languageUtils.toResolveHierarchy(t);r.resolvedLanguage=undefined;if(["cimode","dev"].indexOf(t)>-1)return;for(var n=0;n<r.languages.length;n++){var i=r.languages[n];if(["cimode","dev"].indexOf(i)>-1)continue;if(r.store.hasLanguageSomeTranslations(i)){r.resolvedLanguage=i;break}}};var o=function e(t,o){if(o){a(o);r.translator.changeLanguage(o);r.isLanguageChangingTo=undefined;r.emit("languageChanged",o);r.logger.log("languageChanged",o)}else{r.isLanguageChangingTo=undefined}i.resolve((function(){return r.t.apply(r,arguments)}));if(n)n(t,(function(){return r.t.apply(r,arguments)}))};var s=function e(n){if(!t&&!n&&r.services.languageDetector)n=[];var i=typeof n==="string"?n:r.services.languageUtils.getBestMatchFromCodes(n);if(i){if(!r.language){a(i)}if(!r.translator.language)r.translator.changeLanguage(i);if(r.services.languageDetector)r.services.languageDetector.cacheUserLanguage(i)}r.loadResources(i,(function(e){o(e,i)}))};if(!t&&this.services.languageDetector&&!this.services.languageDetector.async){s(this.services.languageDetector.detect())}else if(!t&&this.services.languageDetector&&this.services.languageDetector.async){this.services.languageDetector.detect(s)}else{s(t)}return i}},{key:"getFixedT",value:function e(n,i,a){var o=this;var s=function e(n,i){var s;if(t(i)!=="object"){for(var u=arguments.length,l=new Array(u>2?u-2:0),f=2;f<u;f++){l[f-2]=arguments[f]}s=o.options.overloadTranslationOptionHandler([n,i].concat(l))}else{s=r({},i)}s.lng=s.lng||e.lng;s.lngs=s.lngs||e.lngs;s.ns=s.ns||e.ns;var c=o.options.keySeparator||".";var p=a?"".concat(a).concat(c).concat(n):n;return o.t(p,s)};if(typeof n==="string"){s.lng=n}else{s.lngs=n}s.ns=i;s.keyPrefix=a;return s}},{key:"t",value:function e(){var t;return this.translator&&(t=this.translator).translate.apply(t,arguments)}},{key:"exists",value:function e(){var t;return this.translator&&(t=this.translator).exists.apply(t,arguments)}},{key:"setDefaultNamespace",value:function e(t){this.options.defaultNS=t}},{key:"hasLoadedNamespace",value:function e(t){var n=this;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(!this.isInitialized){this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages);return false}if(!this.languages||!this.languages.length){this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages);return false}var i=this.resolvedLanguage||this.languages[0];var a=this.options?this.options.fallbackLng:false;var o=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return true;var s=function e(t,r){var i=n.services.backendConnector.state["".concat(t,"|").concat(r)];return i===-1||i===2};if(r.precheck){var u=r.precheck(this,s);if(u!==undefined)return u}if(this.hasResourceBundle(i,t))return true;if(!this.services.backendConnector.backend)return true;if(s(i,t)&&(!a||s(o,t)))return true;return false}},{key:"loadNamespaces",value:function e(t,n){var r=this;var i=w();if(!this.options.ns){n&&n();return Promise.resolve()}if(typeof t==="string")t=[t];t.forEach((function(e){if(r.options.ns.indexOf(e)<0)r.options.ns.push(e)}));this.loadResources((function(e){i.resolve();if(n)n(e)}));return i}},{key:"loadLanguages",value:function e(t,n){var r=w();if(typeof t==="string")t=[t];var i=this.options.preload||[];var a=t.filter((function(e){return i.indexOf(e)<0}));if(!a.length){if(n)n();return Promise.resolve()}this.options.preload=i.concat(a);this.loadResources((function(e){r.resolve();if(n)n(e)}));return r}},{key:"dir",value:function e(t){if(!t)t=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language);if(!t)return"rtl";var n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"];return n.indexOf(this.services.languageUtils.getLanguagePartFromCode(t))>=0?"rtl":"ltr"}},{key:"createInstance",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var r=arguments.length>1?arguments[1]:undefined;return new n(t,r)}},{key:"cloneInstance",value:function e(){var t=this;var i=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:ne;var o=r({},this.options,i,{isClone:true});var s=new n(o);var u=["store","services","language"];u.forEach((function(e){s[e]=t[e]}));s.services=r({},this.services);s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)};s.translator=new H(s.services,s.options);s.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++){n[r-1]=arguments[r]}s.emit.apply(s,[e].concat(n))}));s.init(o,a);s.translator.options=s.options;s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)};return s}},{key:"toJSON",value:function e(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]);return n}(S);var ie=e("i",new re)}}}));